(this["webpackJsonpcasbin-editor"]=this["webpackJsonpcasbin-editor"]||[]).push([[0],{100:function(e,n,t){e.exports=t(151)},140:function(e,n){},142:function(e,n){},151:function(e,n,t){"use strict";t.r(n);var a,o=t(2),r=t.n(o),i=t(91),c=t.n(i),_=t(11),s=t(18),l={basic:{name:"ACL",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act",policy:"p, alice, data1, read\np, bob, data2, write",request:"alice, data1, read",customConfig:void 0},basic_with_root:{name:"ACL with superuser",model:'[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && r.obj == p.obj && r.act == p.act || r.sub == "root"',policy:"p, alice, data1, read\np, bob, data2, write",request:"alice, data1, read",customConfig:void 0},basic_without_resources:{name:"ACL without resources",model:"[request_definition]\nr = sub, act\n\n[policy_definition]\np = sub, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && r.act == p.act",policy:"p, alice, read\np, bob, write",request:"alice, read",customConfig:void 0},basic_without_users:{name:"ACL without users",model:"[request_definition]\nr = obj, act\n\n[policy_definition]\np = obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.obj == p.obj && r.act == p.act",policy:"p, data1, read\np, data2, write",request:"data1, read",customConfig:void 0},rbac:{name:"RBAC",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act",policy:"p, alice, data1, read\np, bob, data2, write\np, data2_admin, data2, read\np, data2_admin, data2, write\n\ng, alice, data2_admin",request:"alice, data2, read",customConfig:void 0},rbac_with_resource_roles:{name:"RBAC with resource roles",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\ng2 = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && g2(r.obj, p.obj) && r.act == p.act",policy:"p, alice, data1, read\np, bob, data2, write\np, data_group_admin, data_group, write\n\ng, alice, data_group_admin\ng2, data1, data_group\ng2, data2, data_group",request:"alice, data1, read\nalice, data1, write\nalice, data2, read\nalice, data2, write ",customConfig:void 0},rbac_with_domains:{name:"RBAC with domains/tenants",model:"[request_definition]\nr = sub, dom, obj, act\n\n[policy_definition]\np = sub, dom, obj, act\n\n[role_definition]\ng = _, _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub, r.dom) && r.dom == p.dom && r.obj == p.obj && r.act == p.act",policy:"p, admin, domain1, data1, read\np, admin, domain1, data1, write\np, admin, domain2, data2, read\np, admin, domain2, data2, write\n\ng, alice, admin, domain1\ng, bob, admin, domain2",request:"alice, domain1, data1, read",customConfig:void 0},rbac_with_pattern:{name:"RBAC with pattern",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) && regexMatch(r.act, p.act)",policy:"p, pen_admin, data1, GET\ng, /book/:id, pen_admin\n",request:"/book/1, data1, GET",customConfig:"(function() {\n  return {\n    /**\n     * Here is custom functions for Casbin.\n     * Currently, there are built-in globMatch, keyMatch, keyMatch2, keyMatch3, keyMatch4, regexMatch, ipMatch.\n     * See https://casbin.org/docs/en/function#functions-in-matchers for more details.\n     */\n    functions: {},\n    /**\n     * The value comes from config.functions, Casbin will not use this configuration if the value is undefined.\n     * See https://casbin.org/docs/en/rbac#use-pattern-matching-in-rbac for more details.\n     * example:\n     * matchingForGFunction: 'globMatch'\n     * matchingDomainForGFunction: 'keyMatch'\n     */\n    matchingForGFunction: 'keyMatch2',\n    matchingDomainForGFunction: undefined\n  };\n})();"},rbac_with_all_pattern:{name:"RBAC with all pattern",model:"[request_definition]\nr = sub, dom, obj, act\n\n[policy_definition]\np = sub, dom, obj, act\n\n[role_definition]\ng = _, _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub, r.dom) && r.dom == p.dom && r.obj == p.obj &&  r.act == p.act",policy:"p, book_group, domain1, data1, read\np, book_group, domain2, data2, write\n\ng, /book/:id, book_group, *",request:"/book/1, domain1, data1, read\n/book/1, domain2, data2, write\n",customConfig:"(function() {\n  return {\n    /**\n     * Here is custom functions for Casbin.\n     * Currently, there are built-in globMatch, keyMatch, keyMatch2, keyMatch3, keyMatch4, regexMatch, ipMatch.\n     */\n    functions: {},\n    /**\n     * The value comes from config.functions, Casbin will not use this configuration if the value is undefined.\n     * example:\n     * matchingForGFunction: 'globMatch'\n     * matchingDomainForGFunction: 'keyMatch'\n     */\n    matchingForGFunction: 'keyMatch2',\n    matchingDomainForGFunction: 'keyMatch2'\n  };\n})();"},rbac_with_deny:{name:"RBAC with deny-override",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act, eft\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow)) && !some(where (p.eft == deny))\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act",policy:"p, alice, data1, read, allow\np, bob, data2, write, allow\np, data2_admin, data2, read, allow\np, data2_admin, data2, write, allow\np, alice, data2, write, deny\n\ng, alice, data2_admin",request:"alice, data1, read\nalice, data2, write",customConfig:void 0},abac:{name:"ABAC",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == r.obj.Owner",policy:"",request:"alice, { Owner: 'alice'}\nalice, { Owner: 'bob'}",customConfig:void 0},abac_with_policy_rule:{name:"ABAC with policy rule",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub_rule, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = eval(p.sub_rule) && r.obj == p.obj && r.act == p.act",policy:"p, r.sub.Age > 18 && r.sub.Age < 60, /data1, read\n",request:"{ Age: 30}, /data1, read",customConfig:void 0},keymatch:{name:"RESTful (KeyMatch)",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && keyMatch(r.obj, p.obj) && regexMatch(r.act, p.act)",policy:"p, alice, /alice_data/*, GET\np, alice, /alice_data/resource1, POST\n\np, bob, /alice_data/resource2, GET\np, bob, /bob_data/*, POST\n\np, cathy, /cathy_data, (GET)|(POST)",request:"alice, /alice_data/hello, GET",customConfig:void 0},keymatch2:{name:"RESTful (KeyMatch2)",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = r.sub == p.sub && keyMatch2(r.obj, p.obj) && regexMatch(r.act, p.act)",policy:"p, alice, /alice_data/:resource, GET\np, alice, /alice_data2/:id/using/:resId, GET",request:"alice, /alice_data/hello, GET\nalice, /alice_data/hello, POST",customConfig:void 0},ipmatch:{name:"IP match",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = ipMatch(r.sub, p.sub) && r.obj == p.obj && r.act == p.act",policy:"p, 192.168.2.0/24, data1, read\np, 10.0.0.0/16, data2, write",request:"192.168.2.1, data1, read\n10.0.2.3, data2, write",customConfig:void 0},priority:{name:"Priority",model:"[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act, eft\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = priority(p.eft) || deny\n\n[matchers]\nm = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act",policy:"p, alice, data1, read, allow\np, data1_deny_group, data1, read, deny\np, data1_deny_group, data1, write, deny\np, alice, data1, write, allow\n\ng, alice, data1_deny_group\n\np, data2_allow_group, data2, read, allow\np, bob, data2, read, deny\np, bob, data2, write, deny\n\ng, bob, data2_allow_group",request:"alice, data1, read",customConfig:void 0}},u="(function() {\n  return {\n    /**\n     * Here is custom functions for Casbin.\n     * Currently, there are built-in globMatch, keyMatch, keyMatch2, keyMatch3, keyMatch4, regexMatch, ipMatch.\n     */\n    functions: {},\n    /**\n     * If the value is undefined, the Casbin does not use it.\n     * example:\n     * matchingForGFunction: 'globMatch'\n     * matchingDomainForGFunction: 'keyMatch'\n     */\n    matchingForGFunction: undefined,\n    matchingDomainForGFunction: undefined\n  };\n})();";function d(e,n){return"".concat(n.toUpperCase(),"_").concat(a[e])}function p(){var e=window.localStorage.getItem(a[a.MODEL].toString());return e||"basic"}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"basic",t=window.localStorage.getItem(d(e,n));if(t)return t;var o=l[n];switch(e){case a.MODEL:return o.model;case a.POLICY:return o.policy;case a.REQUEST:return o.request;case a.CUSTOM_FUNCTION:return o.customConfig?o.customConfig:u}}!function(e){e[e.MODEL=0]="MODEL",e[e.POLICY=1]="POLICY",e[e.REQUEST=2]="REQUEST",e[e.CUSTOM_FUNCTION=3]="CUSTOM_FUNCTION"}(a||(a={}));var b=function(e){return r.a.createElement("select",{defaultValue:p(),onChange:function(n){var t,o=n.target.value;t=o,window.localStorage.setItem(a[a.MODEL],t),e.onChange(o)}},r.a.createElement("option",{value:"",disabled:!0},"Select your model"),Object.keys(l).map((function(e){return r.a.createElement("option",{key:e,value:e},l[e].name)})))};b.defaultProps={onChange:console.log,defaultValue:"basic"};var f=b,h=t(7),g=t(59),E=(t(109),t(110),t(111),t(112),t(113),t(114),t(115),t(21)),y=t.n(E);y.a.defineMode("casbin-conf",(function(){function e(e,n){var t=e.peek();if("["===t)return e.match("[request_definition")?(n.sec="r",e.skipTo("]"),e.eat("]"),"header"):e.match("[policy_definition")?(n.sec="p",e.skipTo("]"),e.eat("]"),"header"):e.match("[role_definition")?(n.sec="g",e.skipTo("]"),e.eat("]"),"header"):e.match("[policy_effect")?(n.sec="e",e.skipTo("]"),e.eat("]"),"header"):e.match("[matchers")?(n.sec="m",e.skipTo("]"),e.eat("]"),"header"):(n.sec="",e.skipToEnd(),"");if("#"===t)return e.skipToEnd(),"comment";if('"'===t)return e.skipToEnd(),e.skipTo('"'),e.eat('"'),"string";if("="===t&&(n.after_equal=!0,e.eat("=")),e.sol()&&(n.after_equal=!1),""===n.sec)return e.skipToEnd(),"";if(e.sol())return""!==n.sec?("g"===n.sec&&e.match(new RegExp("^g[2-9]?"))||e.match(n.sec))&&(" "===e.peek()||"="===e.peek())?"builtin":(n.sec="",void e.next()):void e.next();if(n.after_equal){if("r"===n.sec||"p"===n.sec){if(n.comma&&(n.comma=!1,e.match(new RegExp("^[_a-zA-Z][_a-zA-Z0-9]*"))))return"property";if(e.eat(",")||e.eat(" "))return n.comma=!0,""}else if("e"===n.sec){if(n.dot&&(n.dot=!1,e.match(new RegExp("^[_a-zA-Z][_a-zA-Z0-9]*"))))return"property";if(e.eat("."))return n.dot=!0,"";if(e.match("p")&&"."===e.peek())return"builtin";if(e.match("some")||e.match("where")||e.match("priority"))return"keyword";if(e.match("allow")||e.match("deny"))return"string"}else if("m"===n.sec){if(n.dot&&(n.dot=!1,e.match(new RegExp("^[_a-zA-Z][_a-zA-Z0-9]*"))))return"property";if(e.eat("."))return n.dot=!0,"";if((e.match("r")||e.match("p"))&&"."===e.peek())return"builtin";if(e.match(new RegExp("^[_a-zA-Z][_a-zA-Z0-9]*"))&&"("===e.peek())return"def"}e.next()}else e.next()}return{startState:function(){return{tokenize:e}},token:function(e,n){return n.tokenize(e,n)}}})),y.a.defineMode("casbin-csv",(function(){function e(e,n){var t=e.peek();return"#"===t?(e.skipToEnd(),"comment"):","===t?(e.eat(","),""):e.sol()&&e.match("p")?"def":e.sol()&&(e.match("g2")||e.match("g"))?"keyword":e.skipTo(",")?"string":(e.skipToEnd(),"property")}return{startState:function(){return{tokenize:e}},token:function(e,n){return n.tokenize(e,n)}}}));var w=function(e){var n=Object(o.useState)(m(e.persist,e.modelKind)),t=Object(_.a)(n,2),a=t[0],i=t[1],c=e.modelKind,s=e.onChange,l=e.persist;return Object(o.useEffect)((function(){var e=m(l,c);i(e),s(e)}),[c,l]),r.a.createElement("div",{style:e.style},r.a.createElement(g.Controlled,{onBeforeChange:function(n,t,a){i(a),e.onChange(a),function(e,n){var t=p()||"basic";window.localStorage.setItem(d(e,t),n)}(e.persist,a)},options:e.options,value:a}))};w.defaultProps={onChange:function(){}};var O,C,M=function(e){return r.a.createElement(w,Object.assign({persist:a.CUSTOM_FUNCTION,options:{lineNumbers:!0,indentUnit:4,styleActiveLine:!0,matchBrackets:!0,mode:"javascript",lineWrapping:!0,theme:"monokai"}},e))},k=function(e){return r.a.createElement(w,Object.assign({persist:a.MODEL,options:{lineNumbers:!0,indentUnit:4,styleActiveLine:!0,matchBrackets:!0,mode:"casbin-conf",lineWrapping:!0,theme:"monokai"}},e))},x=function(e){return r.a.createElement(w,Object.assign({persist:a.POLICY,options:{lineNumbers:!0,indentUnit:4,styleActiveLine:!0,matchBrackets:!0,mode:"casbin-csv",lineWrapping:!0,theme:"monokai"}},e))},v=function(e){return r.a.createElement(w,Object.assign({persist:a.REQUEST,options:{lineNumbers:!0,indentUnit:4,styleActiveLine:!0,matchBrackets:!0,mode:"mathematica",lineWrapping:!0,theme:"monokai"}},e))},j=function(e){return r.a.createElement("div",{style:e.style},r.a.createElement(g.Controlled,{onBeforeChange:function(){},value:e.value,options:{readOnly:!0,indentUnit:4,styleActiveLine:!0,matchBrackets:!0,mode:"javascript",lineWrapping:!0,theme:"monokai"}}))},D=t(16),T=function(e){return r.a.createElement(h.a,{style:{marginRight:8},onClick:function(){try{D.Config.newConfigFromText(e.model),e.onResponse(r.a.createElement(h.b,null,"Passed"))}catch(n){e.onResponse(r.a.createElement(h.b,{type:"error"},n.message))}}},"SYNTAX VALIDATE")},A=t(97),P=t(19);function F(e,n){var t=r.a.useState((function(){var t=window.localStorage.getItem(n);return null!==t?JSON.parse(t):e})),a=Object(_.a)(t,2),o=a[0],i=a[1];return r.a.useEffect((function(){window.localStorage.setItem(n,JSON.stringify(o))}),[n,o]),[o,i]}var R=P.a.div(O||(O=Object(s.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid #ddd;\n  background: #ffffff;\n  width: ",";\n  padding: ",";\n"])),(function(e){return e.open?"18rem":"1rem"}),(function(e){return e.open?"1rem":0})),B=P.a.div(C||(C=Object(s.a)(["\n  display: block;\n  cursor: pointer;\n  position: absolute;\n  top: 2px;\n  border-radius: 50%;\n  background: #ffffff;\n  right: -0.75rem;\n  height: 1.5rem;\n  width: 1.5rem;\n  color: #000000;\n  box-shadow: rgb(9 30 66 / 8%) 0 0 0 1px, rgb(9 30 66 / 8%) 0 2px 4px 1px;\n\n  ",":hover & {\n    display: block;\n  }\n"])),R);function L(e){var n=F(!0,"SETTINGS_OPEN"),t=Object(_.a)(n,2),a=t[0],o=t[1];return r.a.createElement(R,{open:a},r.a.createElement(B,{onClick:function(){return o(!a)}},r.a.createElement("svg",{style:{width:"100%",height:"100%",transform:a?"rotateZ(0deg)":"rotateZ(180deg)"},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"}))),r.a.createElement("div",{style:{display:a?"flex":"none",flexDirection:"column"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("span",{style:{flex:1}},"Enable ABAC"),r.a.createElement("input",{defaultChecked:e.enableABAC,type:"checkbox",onChange:function(n){e.onEnableABAC(n.target.checked)}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("span",{style:{flex:1,margin:"0.5rem 0"}},"Custom config"),r.a.createElement(M,{modelKind:e.modelKind,onChange:e.onCustomConfigChange}))))}var U=t(0),I=t.n(U),q=t(1);function S(){return(S=Object(q.a)(I.a.mark((function e(n){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dpaste.com/api/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"content=".concat(encodeURIComponent(n),"&syntax=json&title=").concat(encodeURIComponent("Casbin Shared Content"),"&expiry_days=200")});case 2:return t=e.sent,e.abrupt("return",t.text());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K,W=function(e){function n(e){e.onResponse(r.a.createElement(h.b,null,"Sharing..."));var n={model:e.model,policy:e.policy,customConfig:e.customConfig,request:e.request,enableABAC:e.enableABAC};(function(e){return S.apply(this,arguments)})(JSON.stringify(n)).then((function(n){var t=n.split("/")[3];e.onResponse(t)}))}return r.a.createElement(h.a,{style:{marginRight:8},onClick:function(){return n(e)}},"SHARE")},G=function(e){return r.a.createElement(h.a,{style:{marginRight:8},onClick:function(){return n="".concat(window.location.origin+window.location.pathname,"#").concat(e.content),document.addEventListener("copy",(function e(t){if(!t.clipboardData)throw new Error("Clipboard API unavailable.");t.clipboardData.setData("text/plain",n),t.preventDefault(),document.removeEventListener("copy",e)})),document.execCommand("copy"),void e.cb();var n}},"COPY")},N=P.a.div(K||(K=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),z=function(){var e=Object(o.useState)(p()),n=Object(_.a)(e,2),t=n[0],i=n[1],c=Object(o.useState)(""),s=Object(_.a)(c,2),l=s[0],u=s[1],m=Object(o.useState)(""),b=Object(_.a)(m,2),g=b[0],E=b[1],y=Object(o.useState)(""),w=Object(_.a)(y,2),O=w[0],C=w[1],M=Object(o.useState)(r.a.createElement(r.a.Fragment,null)),D=Object(_.a)(M,2),P=D[0],R=D[1],B=Object(o.useState)(""),U=Object(_.a)(B,2),I=U[0],q=U[1],S=Object(o.useState)(""),K=Object(_.a)(S,2),z=K[0],Z=K[1],H=Object(o.useState)(""),Y=Object(_.a)(H,2),J=Y[0],V=Y[1],Q=F(!0,"ENABLE_ABAC"),X=Object(_.a)(Q,2),$=X[0],ee=X[1];return Object(o.useEffect)((function(){var e=window.location.hash.slice(1);e&&(R(r.a.createElement(h.b,null,"Loading Shared Content...")),fetch("https://dpaste.com/".concat(e,".txt")).then((function(e){return e.text()})).then((function(e){var n=JSON.parse(e);E(n.policy),u(n.model),Z(n.customConfig),C(n.request),ee(n.enableABAC),q(""),R(r.a.createElement(h.b,null,"Shared Content Loaded."))})).catch((function(){R(r.a.createElement(h.b,{type:"error"},"Failed to load Shared Content."))})))}),[]),r.a.createElement(N,null,r.a.createElement(L,{modelKind:t,enableABAC:$,onCustomConfigChange:function(e){Z(e)},onEnableABAC:function(e){ee(e)}}),r.a.createElement("div",{style:{flex:1}},r.a.createElement(h.d,null,r.a.createElement(h.c,null,r.a.createElement(h.d,null,r.a.createElement(h.f,null,"Model"),r.a.createElement(f,{onChange:function(e){i(e)}}),r.a.createElement(h.a,{onClick:function(){window.confirm("Confirm Reset?")&&(!function(e){for(var n in a)if(a.hasOwnProperty(n)){var t=parseInt(n,10);window.localStorage.removeItem(d(t,e))}}(t),window.location.reload())},style:{marginLeft:8}},"Reset")),r.a.createElement(k,{modelKind:t,onChange:u})),r.a.createElement(h.c,null,r.a.createElement(h.f,null,"Policy"),r.a.createElement(x,{modelKind:t,onChange:E}))),r.a.createElement(h.d,null,r.a.createElement(h.c,null,r.a.createElement(h.f,null,"Request"),r.a.createElement(v,{modelKind:t,onChange:C})),r.a.createElement(h.c,null,r.a.createElement(h.f,null,"Enforcement Result"),r.a.createElement(j,{value:I}))),r.a.createElement("div",{style:{padding:8}},r.a.createElement(T,{model:l,onResponse:function(e){return R(e)}}),r.a.createElement(A.a,{modelKind:t,model:l,policy:g,customConfig:z,request:O,parseABAC:$,onResponse:function(e){Object(o.isValidElement)(e)?R(e):Array.isArray(e)&&q(e.join("\n"))}}),J?r.a.createElement(G,{content:J,cb:function(){V(""),R(r.a.createElement(h.b,null,"Copied."))}}):r.a.createElement(W,{onResponse:function(e){return function(e){if(Object(o.isValidElement)(e))R(e);else{var n=window.location.origin+window.location.pathname;V(e),R(r.a.createElement(h.b,null,"Shared at ".concat(n,"#").concat(e)))}}(e)},model:l,policy:g,customConfig:z,request:O,enableABAC:$}),r.a.createElement("div",{style:{display:"inline-block"}},P))))},Z=(t(150),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(h.e,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/casbin/casbin-editor"},r.a.createElement("img",{alt:"GitHub stars",src:"https://img.shields.io/github/stars/casbin/casbin-editor?style=social"})),r.a.createElement("span",{style:{color:"#FFFFFF",float:"right",fontSize:14}},"Copyright \xa9 ",(new Date).getFullYear()," Casbin contributors.")))}),H=document.getElementById("root");c.a.render(r.a.createElement(Z,null),H)},7:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"f",(function(){return d})),t.d(n,"d",(function(){return p})),t.d(n,"c",(function(){return m})),t.d(n,"b",(function(){return b})),t.d(n,"e",(function(){return f}));var a,o,r,i,c,_,s=t(18),l=t(19),u=l.a.button(a||(a=Object(s.a)(["\n  border: 1px solid #443d80;\n  border-radius: 3px;\n  color: #443d80;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.2em;\n  padding: 10px;\n  text-decoration: none !important;\n  text-transform: uppercase;\n  transition: background 0.3s, color 0.3s;\n\n  :hover {\n    background: #443d80;\n    color: #fff;\n  }\n"]))),d=l.a.h4(o||(o=Object(s.a)(["\n  padding: 8px;\n"]))),p=l.a.div(r||(r=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),m=l.a.div(i||(i=Object(s.a)(["\n  flex: 1;\n"]))),b=l.a.span(c||(c=Object(s.a)(["\n  color: ",";\n  font-weight: 600;\n  font-size: 14px;\n"])),(function(e){switch(e.type){case"error":return"#db4545";case"pass":return"#39aa56"}}));b.defaultProps={type:"pass"};var f=l.a.div(_||(_=Object(s.a)(["\n  padding: 1em;\n  background: #222;\n"])))},97:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39),_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),casbin__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16);function parseABACRequest(line){for(var value="",objectToken=0,parseToObject=!1,request=[],i=0;i<line.length;i++)0!==objectToken||","!==line[i]?(value+=line[i],"{"!==line[i]?"}"===line[i]&&objectToken--:(parseToObject=!0,objectToken++)):(parseToObject&&(value=eval("(".concat(value,")"))),request.push(value.trim()),value="",parseToObject=!1);if(0!==objectToken)throw new Error("invalid request ".concat(line));return value&&(parseToObject&&(value=eval("(".concat(value,")"))),request.push(value)),request}function enforcer(e){return _enforcer.apply(this,arguments)}function _enforcer(){return _enforcer=Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__.a)(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(props){var startTime,result,e,customConfigCode,builtinFunc,config,_config,rm,matchingForGFunction,matchingDomainForGFunction,requests,_iterator,_step,n,line,rvals,stopTime;return _home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return startTime=performance.now(),result=[],_context.prev=2,_context.next=5,Object(casbin__WEBPACK_IMPORTED_MODULE_7__.newEnforcer)(Object(casbin__WEBPACK_IMPORTED_MODULE_7__.newModel)(props.model),props.policy?new casbin__WEBPACK_IMPORTED_MODULE_7__.StringAdapter(props.policy):void 0);case 5:if(e=_context.sent,customConfigCode=props.customConfig,!customConfigCode){_context.next=47;break}if(_context.prev=8,builtinFunc={keyMatch:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.keyMatchFunc,keyGet:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.keyGetFunc,keyMatch2:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.keyMatch2Func,keyGet2:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.keyGet2Func,keyMatch3:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.keyMatch3Func,keyMatch4:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.keyMatch4Func,regexMatch:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.regexMatchFunc,ipMatch:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.ipMatchFunc,globMatch:casbin__WEBPACK_IMPORTED_MODULE_7__.Util.globMatch},config=eval(customConfigCode),!config){_context.next=41;break}if(config=Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},config),{},{functions:Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__.a)({},config.functions),builtinFunc)}),(null===(_config=config)||void 0===_config?void 0:_config.functions)&&Object.keys(config.functions).forEach((function(n){return e.addFunction(n,config.functions[n])})),rm=e.getRoleManager(),matchingForGFunction=config.matchingForGFunction,!matchingForGFunction){_context.next=28;break}if("function"!==typeof matchingForGFunction){_context.next=20;break}return _context.next=20,rm.addMatchingFunc(matchingForGFunction);case 20:if("string"!==typeof matchingForGFunction){_context.next=28;break}if(!(matchingForGFunction in config.functions)){_context.next=26;break}return _context.next=24,rm.addMatchingFunc(config.functions[matchingForGFunction]);case 24:_context.next=28;break;case 26:return props.onResponse(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__.b,{type:"error"},"Must sure the ",matchingForGFunction,"() in config.functions")),_context.abrupt("return");case 28:if(matchingDomainForGFunction=config.matchingDomainForGFunction,!matchingDomainForGFunction){_context.next=41;break}if("function"!==typeof matchingDomainForGFunction){_context.next=33;break}return _context.next=33,rm.addDomainMatchingFunc(matchingDomainForGFunction);case 33:if("string"!==typeof matchingDomainForGFunction){_context.next=41;break}if(!(matchingDomainForGFunction in config.functions)){_context.next=39;break}return _context.next=37,rm.addDomainMatchingFunc(config.functions[matchingDomainForGFunction]);case 37:_context.next=41;break;case 39:return props.onResponse(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__.b,{type:"error"},"Must sure the ",matchingDomainForGFunction,"() in config.functions")),_context.abrupt("return");case 41:_context.next=47;break;case 43:return _context.prev=43,_context.t0=_context.catch(8),props.onResponse(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__.b,{type:"error"},"Please check syntax in Custom Function Editor: ",_context.t0.message)),_context.abrupt("return");case 47:requests=props.request.split("\n"),_iterator=Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_2__.a)(requests),_context.prev=49,_iterator.s();case 51:if((_step=_iterator.n()).done){_context.next=68;break}if(n=_step.value,line=n.trim(),line){_context.next=57;break}return result.push("// ignore"),_context.abrupt("continue",66);case 57:if("#"!==line[0]){_context.next=60;break}return result.push("// ignore"),_context.abrupt("continue",66);case 60:return rvals=props.parseABAC?parseABACRequest(n):n.split(",").map((function(e){return e.trim()})),_context.t1=result,_context.next=64,e.enforce.apply(e,Object(_home_runner_work_casbin_editor_casbin_editor_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(rvals));case 64:_context.t2=_context.sent,_context.t1.push.call(_context.t1,_context.t2);case 66:_context.next=51;break;case 68:_context.next=73;break;case 70:_context.prev=70,_context.t3=_context.catch(49),_iterator.e(_context.t3);case 73:return _context.prev=73,_iterator.f(),_context.finish(73);case 76:stopTime=performance.now(),props.onResponse(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__.b,null,"Done in "+(stopTime-startTime).toFixed(2)+"ms")),props.onResponse(result),_context.next=85;break;case 81:_context.prev=81,_context.t4=_context.catch(2),props.onResponse(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__.b,{type:"error"},_context.t4.message)),props.onResponse([]);case 85:case"end":return _context.stop()}}),_callee,null,[[2,81],[8,43],[49,70,73,76]])}))),_enforcer.apply(this,arguments)}var RunTest=function(e){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ui__WEBPACK_IMPORTED_MODULE_6__.a,{style:{marginRight:8},onClick:function(){return enforcer(e)}},"RUN THE TEST")};__webpack_exports__.a=RunTest}},[[100,1,2]]]);
//# sourceMappingURL=main.0fc22145.chunk.js.map